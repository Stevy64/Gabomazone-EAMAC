/* ============================================
   FORCE FLAVORIZ DESIGN - OVERRIDE TOUT
   ============================================ */

/* Cacher ABSOLUMENT TOUT NEST */
header.header-area,
.header-area,
.header-top,
.header-middle,
.header-bottom,
.header-wrap,
.mobile-promotion,
.home-slider,
.section-padding,
.product-cart-wrap:not(.flavoriz-product-card),
.banner-img,
footer.main:not(.flavoriz-footer),
.footer-top,
.footer-middle,
.footer-bottom,
.mobile-header-active,
.mobile-header-wrapper-style,
.page-header:not(.flavoriz-page-header):not(.breadcrumb-wrap),
.archive-header,
.main-menu,
.categories-dropdown-wrap,
.archive-header,
.container .row:not(.flavoriz-product-grid):not(main.main.pages .row):not(main.main .row):not(main.main:not(.pages) .row):not(.product-detail .row):not(.detail-gallery):not(.slider-nav-thumbnails),
header:not(.flavoriz-header) {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    overflow: hidden !important;
    margin: 0 !important;
    padding: 0 !important;
    opacity: 0 !important;
}

/* Forcer le body blanc avec padding-top pour compenser le header fixe */
body {
    background: #FFFFFF !important;
    padding: 0 !important;
    padding-top: 100px !important;
    margin: 0 !important;
}

/* ===== PADDING TOP POUR TOUTES LES PAGES - FORCER ===== */
/* Assure que le contenu ne se chevauche JAMAIS avec le header fixe */
main.main,
main.main .container,
main.main .row,
.flavoriz-hero,
.flavoriz-section,
section.flavoriz-section,
.page-content,
.content-wrapper,
.container:not(.flavoriz-hero):not(.flavoriz-section),
section:first-of-type {
    padding-top: 0 !important;
    margin-top: 0 !important;
}

/* Hero section - première section visible */
.flavoriz-hero {
    padding-top: 20px !important;
    margin-top: 0 !important;
}

/* Pages de compte */
main.main.pages {
    padding-top: 20px !important;
}

main.main.pages .container {
    padding-top: 0 !important;
}

/* Mobile : ajuster le padding-top - header plus haut sur mobile */
@media (max-width: 768px) {
    body {
        padding-top: 110px !important;
    }
    
    .flavoriz-hero {
        padding-top: 15px !important;
    }
    
    main.main.pages {
        padding-top: 15px !important;
    }
    
    main.main,
    main.main .container {
        padding-top: 0 !important;
    }
}

/* Forcer le header FLAVORIZ visible - UN SEUL HEADER - JAMAIS CACHÉ */
.flavoriz-header {
    display: block !important;
    visibility: visible !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
    background: #FFFFFF !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
    padding: 12px 0 !important;
    width: 100% !important;
    margin: 0 !important;
    opacity: 1 !important;
    transform: translateY(0) !important;
}

/* Empêcher le header d'être caché même avec la classe scrolled */
.flavoriz-header.scrolled {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    transform: translateY(0) !important;
}

/* S'assurer qu'il n'y a qu'un seul header - Masquer tous les doublons */
body > header.flavoriz-header:not(:first-of-type),
body > .flavoriz-header:not(:first-of-type),
.flavoriz-header ~ .flavoriz-header,
header.flavoriz-header + header.flavoriz-header {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    overflow: hidden !important;
    margin: 0 !important;
    padding: 0 !important;
    opacity: 0 !important;
}

/* FORCER 2 colonnes sur mobile - Override absolu */
@media (max-width: 768px) {
    .flavoriz-product-grid,
    #products-list {
        display: grid !important;
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 6px !important;
    }
    
    .flavoriz-product-card {
        width: 100% !important;
        max-width: 100% !important;
    }
    
    /* Cacher la recherche desktop */
    .flavoriz-header-actions-desktop {
        display: none !important;
    }
    
    /* Afficher la recherche mobile */
    .flavoriz-header-actions-mobile {
        display: flex !important;
    }
}

.flavoriz-header-top {
    display: flex !important;
    visibility: visible !important;
}

.flavoriz-logo {
    display: block !important;
    visibility: visible !important;
}

.flavoriz-nav {
    display: flex !important;
    visibility: visible !important;
}

.flavoriz-header-actions {
    display: flex !important;
    visibility: visible !important;
}

/* Forcer les sections FLAVORIZ visibles */
.flavoriz-hero,
.flavoriz-section,
.flavoriz-product-grid,
.flavoriz-newsletter,
.flavoriz-footer {
    display: block !important;
    visibility: visible !important;
}

/* Reset complet des marges NEST */
.main {
    padding: 0 !important;
    margin: 0 !important;
    background: #FFFFFF !important;
}

/* FORCER l'affichage de main.main (détails produit) */
main.main:not(.pages) {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
    padding-top: 100px !important;
}

main.main:not(.pages) .container,
main.main:not(.pages) .row,
main.main:not(.pages) .product-detail,
main.main:not(.pages) .product-detail .row,
main.main:not(.pages) .detail-gallery,
main.main:not(.pages) .slider-nav-thumbnails,
main.main:not(.pages) .col-xl-9,
main.main:not(.pages) .col-xl-11,
main.main:not(.pages) .col-md-6,
main.main:not(.pages) .col-sm-12,
main.main:not(.pages) .col-lg-12 {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

main.main:not(.pages) .row {
    display: flex !important;
    flex-wrap: wrap !important;
}

/* Cacher tous les containers NEST sauf ceux des pages de compte */
.container:not(.flavoriz-hero):not(.flavoriz-section):not(.flavoriz-newsletter):not(.flavoriz-footer) {
    max-width: 1400px !important;
    margin: 0 auto !important;
    padding: 0 24px !important;
}

/* FORCER l'affichage des pages de compte */
main.main.pages,
main.main.pages .container,
main.main.pages .row,
main.main.pages .col-12,
main.main.pages .col-md-3,
main.main.pages .col-md-6,
main.main.pages .col-md-9,
main.main .container,
main.main .row,
main.main .product-detail,
main.main .product-detail .row,
main.main .detail-gallery,
main.main .slider-nav-thumbnails,
main.main .col-xl-9,
main.main .col-xl-11,
main.main .col-md-6,
main.main .col-sm-12 {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

main.main.pages .row {
    display: flex !important;
    flex-wrap: wrap !important;
}

main.main.pages .col-12 {
    width: 100% !important;
}

@media (min-width: 768px) {
    main.main.pages .col-md-3 {
        width: 25% !important;
        flex: 0 0 25% !important;
    }
    
    main.main.pages .col-md-6 {
        width: 50% !important;
        flex: 0 0 50% !important;
    }
    
    main.main.pages .col-md-9 {
        width: 75% !important;
        flex: 0 0 75% !important;
    }
}

/* SUPPRIMER TOUTE COULEUR VERTE - RÈGLES ULTRA AGRESSIVES */
*,
*::before,
*::after {
    --accent-green: transparent !important;
}

.badge-success,
[class*="green"],
[style*="green"],
[style*="#4CAF50"],
[style*="#4caf50"] {
    background: transparent !important;
    background-color: transparent !important;
    color: inherit !important;
    border-color: transparent !important;
}

/* Supprimer toute couleur verte entre footer et bottom nav */
.flavoriz-footer + *,
.flavoriz-footer ~ *,
.flavoriz-footer + nav,
.flavoriz-footer ~ nav {
    background: transparent !important;
    background-color: transparent !important;
}

/* Forcer la bottom nav visible sur mobile */
@media (max-width: 768px) {
    .flavoriz-bottom-nav {
        display: flex !important;
        visibility: visible !important;
        background: rgba(255, 255, 255, 0.95) !important;
        background-color: rgba(255, 255, 255, 0.95) !important;
    }
    
    /* Supprimer toute couleur verte sur mobile */
    .flavoriz-footer + nav,
    .flavoriz-footer ~ nav,
    .flavoriz-footer + *,
    .flavoriz-footer ~ * {
        background: transparent !important;
        background-color: transparent !important;
    }
    
    /* FORCER le menu compte mobile en bas de l'écran - RÈGLE ULTRA AGRESSIVE */
    .flavoriz-account-dropdown-mobile {
        position: static !important;
    }
    
    /* S'assurer que le header n'interfère pas */
    .flavoriz-header,
    .flavoriz-header-top,
    .flavoriz-header-actions-mobile {
        overflow: visible !important;
        position: relative !important;
    }
    
    .flavoriz-account-menu-mobile,
    .flavoriz-account-menu-mobile.show,
    #account-dropdown-menu-mobile,
    div.flavoriz-account-menu-mobile,
    div#account-dropdown-menu-mobile {
        position: fixed !important;
        top: auto !important;
        bottom: 80px !important;
        right: 16px !important;
        left: auto !important;
        transform: none !important;
        margin: 0 !important;
        margin-top: 0 !important;
        margin-bottom: 0 !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }
}

