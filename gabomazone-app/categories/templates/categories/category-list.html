{% extends 'base.html' %}
{% load static %}

{%block body%}
<!-- ===== Category List Page FLAVORIZ Design ===== -->
<section class="flavoriz-section" style="margin-top: var(--spacing-lg); padding: 0 var(--spacing-lg);">
    <!-- Page Header -->
    <div style="max-width: 1400px; margin: 0 auto; margin-bottom: var(--spacing-xl);">
        <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: var(--spacing-md); margin-bottom: var(--spacing-lg);">
            <div>
                <h1 style="font-size: 48px; font-weight: 800; color: var(--color-black); margin-bottom: var(--spacing-sm);">Catégories</h1>
                <div style="display: flex; align-items: center; gap: 8px; color: var(--text-gray); font-size: 14px;">
                    <a href="{%url 'home:index'%}" style="color: var(--text-gray); text-decoration: none;">Accueil</a>
                    <span>/</span>
                    <span style="color: var(--color-orange);">Catégories</span>
                </div>
            </div>
        </div>
                                    </div>

    <!-- Main Content -->
    <div style="max-width: 1400px; margin: 0 auto;">
        <div class="flavoriz-product-grid" style="grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: var(--spacing-lg);">
            {% for super in supercategory %}
            <div class="flavoriz-product-card" style="cursor: pointer; background: var(--color-white); border-radius: var(--radius-lg); padding: var(--spacing-lg); box-shadow: var(--shadow-sm); transition: all 0.3s ease;" onclick="window.location.href='{% url 'categories:super-category' super.slug %}'">
                <div style="margin-bottom: var(--spacing-md);">
                    <h3 style="font-size: 24px; font-weight: 700; color: var(--color-black); margin-bottom: var(--spacing-md);">
                        <a href="{% url 'categories:super-category' super.slug %}" style="color: var(--color-black); text-decoration: none;">{{super}}</a>
                    </h3>
                </div>
                
                <div style="display: flex; flex-direction: column; gap: var(--spacing-sm);">
                    {% for main in maincategory %}
                    {% if main.super_category == super %}
                    <a href="{% url 'categories:main-category' main.slug %}" style="display: flex; align-items: center; gap: 12px; padding: 12px; border-radius: var(--radius-md); text-decoration: none; color: var(--text-dark); transition: all 0.2s ease; background: var(--color-off-white);">
                        <figure style="width: 60px; height: 60px; margin: 0; border-radius: var(--radius-md); overflow: hidden; flex-shrink: 0;">
                            <img src="{% if main.category_image %}{{main.category_image.url}}{% else %}{% static 'assets/imgs/shop/thumbnail-1.jpg'%}{% endif %}" alt="{{main.name}}" style="width: 100%; height: 100%; object-fit: cover;" />
                        </figure>
                        <div style="flex: 1; min-width: 0;">
                            <h6 style="font-size: 14px; font-weight: 600; color: var(--color-black); margin: 0; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{main.name}}</h6>
                        </div>
                    </a>
                    {% endif %}
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{%endblock body%}
